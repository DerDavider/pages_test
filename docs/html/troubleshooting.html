<!-- HTML header for doxygen 1.9.8-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Thermal Camera SDK: Troubleshooting</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="custom.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript">DoxygenAwesomeDarkModeToggle.init()</script>
<link rel="icon" href="logoSmall.png" type="image/png" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logoSmall.png"/></td>
  <td id="projectalign">
   <div id="projectname">Thermal Camera SDK<span id="projectnumber">&#160;10.0.1</span>
   </div>
   <div id="projectbrief">SDK for Optris Thermal Cameras</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('troubleshooting.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Troubleshooting</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md_pages_207__troubleshooting"></a></p>
<h1><a class="anchor" id="autotoc_md25"></a>
Contents</h1>
<ul>
<li><a class="el" href="#troubleshooting-linux">Linux</a></li>
<li><a class="el" href="#troubleshooting-false-color-images">False Color Images</a></li>
</ul>
<h1><a class="anchor" id="troubleshooting-linux"></a>
Linux</h1>
<h2><a class="anchor" id="autotoc_md26"></a>
User Groups</h2>
<p>My SDK application can not access the data stream from the device.</p>
<p>Check, if you as a user are part of the <code>video</code> group:</p>
<div class="fragment"><div class="line">groups</div>
</div><!-- fragment --><p>If this is not the case, add yourself to this group:</p>
<div class="fragment"><div class="line">sudo usermod -a -G video &lt;username&gt;</div>
</div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>You need to log out and in again for the group changes to take effect.</dd></dl>
<h2><a class="anchor" id="autotoc_md27"></a>
UVC Driver Settings</h2>
<p>For some devices passing the <code>nodrop</code> option to the UVC kernel driver may prove helpful. You can temporarily activate this option with the following command:</p>
<div class="fragment"><div class="line">sudo rmmod uvcvideo; sudo modprobe uvcvideo nodrop=1</div>
</div><!-- fragment --><p>Alternatively, the parameter can be modified via the <code>sysfs</code> (this is also not permanent):</p>
<div class="fragment"><div class="line">sudo bash -c &#39;echo -n 1 &gt; /sys/module/uvcvideo/parameters/nodrop&#39;</div>
</div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>The changes above are not permanent. They are reset after a reboot.</dd></dl>
<p>If you find this option helpful, you can activate it permanently by creating the following file:</p>
<div class="fragment"><div class="line">sudo bash -c &#39;echo &quot;options uvcvideo nodrop=1&quot; &gt; /etc/modprobe.d/uvcvideo.conf&#39;</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md28"></a>
No device found</h2>
<p>When I start my SDK application I get the following error message although my device is plugged into the USB port:</p>
<div class="image">
<img src="error_no_suitable_device.png" alt=""/>
<div class="caption">
No device found.</div></div>
    <p>It does not even show up when I use the tool <a class="el" href="basic-usage.html#basic-usage-command-line-tools-otc-find-devices">otc_find_devices</a>.</p>
<p>You can run into this situation when you are using a Xi 80, a Xi 410(MT) or a Xi 1M via USB on Linux. It happens when a SDK application is shutdown abruptly, for example, with <code>Ctrl + C</code> or by killing it in a task manager. This prevents the SDK from properly releasing its resources. As a result, the Linux kernel thinks that the device is still in use and subsequently refuses any attempt to connect to it.</p>
<p>The only way to remedy this issue is to plug the device out and in again. You can avoid this problem by ensuring that the SDK can shutdown gracefully. This can be achieved by either calling <code>IRImager::disconnect()</code> or by making sure that yor <code>IRImager</code> object is destroyed before the application exits.</p>
<h1><a class="anchor" id="troubleshooting-false-color-images"></a>
False Color Images</h1>
<h2><a class="anchor" id="autotoc_md29"></a>
Unexpected Colors</h2>
<p>The false color image does not seem to use the <code>ColoringPalette</code> that I specified.</p>
<p>Check, whether you specified the correct <code>ColorFormat</code> when instantiating the <code>ImageBuilder</code>. Refer to the API documentation of the <code>ColorFormat</code> enum for more details.</p>
<div class="image">
<img src="faulty_color_format.jpg" alt=""/>
<div class="caption">
Effect of a wrong ColorFormat on the ColoringPalette Iron (left: correct, right: faulty).</div></div>
    <h2><a class="anchor" id="autotoc_md30"></a>
Tearing</h2>
<p>The false color image I generated exhibits tearing and lines.</p>
<p>Check, whether you specified the correct <code>WidthAlignment</code> when creating the <code>ImageBuilder</code>. Refer to the API documentation of the <code>WidthAlignment</code> enum for more details.</p>
<div class="image">
<img src="faulty_width_alignment.jpg" alt=""/>
<div class="caption">
Effect of a faulty WidthAlignment on a false color image.</div></div>
    <h1><a class="anchor" id="autotoc_md31"></a>
Video Stream</h1>
<p>When I connect my thermal camera to my computer via USB it appeared as a video capture device. When I tried to open it with a program like VLC media player I only got green noise like this:</p>
<div class="image">
<img src="pi640_data_stream.jpg" alt=""/>
<div class="caption">
Data stream from a PI640.</div></div>
    <p>Nothing is wrong. The player just visualizes the raw data. Its needs processing by the SDK in order to become usable.</p>
<p>Wait a minute I did not even get that far. The device shows up as a capture device but I can not open it.</p>
<p>This happens with Xi 80, Xi410(MT) and Xi 1Ms on Linux. The reason for this is the USB transfer mode used by these devices. For more detailed information please refer to the <a class="el" href="device-communication.html#device-communication-usb-streaming">Streaming</a> section in the <a class="el" href="device-communication.html">Device Communication</a> chapter.</p>
<p>I am still puzzled: The frames in the VLC player are larger than the ones returned by the SDK. Where did they disappear?</p>
<p>These additional rows or columns contain the metadata of the frame. They are decoded by the SDK and provided separately in form of a <code>FrameMetadata</code> object in thermal frame callbacks. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
